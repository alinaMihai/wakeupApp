<div ng-if="questionCtrl.questionService.questionSetSession" id="sessionMode">
  <button id="endQsSessionBtn" ng-click="questionCtrl.endQuestionSet()" class="btn btn-lg btn-primary">End Question Set Session</button>
</div>
<div ng-include="'components/navbar/navbar.html'"></div>
<div class="container">
  
  <session-dir ng-if="questionCtrl.questionSetQuestions.questions.length>0">
  </session-dir>
  <div class="row">
    <ol class="breadcrumb">
      <li><a ui-sref="questionSetList">Question Sets</a></li>
      <li class="active">{{questionCtrl.questionSetQuestions.name}}</li>
    </ol>
  </div>
  <div class="row">
    <div class="col-lg-10">
      <h1 class="text-center">{{questionCtrl.questionSetQuestions.name}}
      </h1>
      
      
    </div>
    <div class="col-lg-2" ng-if="!questionCtrl.questionSetQuestions.isDefault">
      <button id="addQuestionBtn" class="btn btn-primary" ng-click="questionCtrl.addQuestionBool=true">
      <span class="glyphicon glyphicon-plus" aria-hidden="true" ></span> Add Question
      </button>
    </div>
  </div>
  
  <div ng-if="!questionCtrl.questionSetQuestions.isDefault && questionCtrl.addQuestionBool" >
    <form name="questionCtrl.addQuestion" novalidate>
      <div class="group-control" ng-class="{'has-error': questionCtrl.hasErrorAddForm()}" >
        <label for="questionText">Question Text:
          <textarea id="addQuestionTextArea" name="questionText" type="text" cols="1000" rows="5" class="input input-lg form-control" required ng-model="questionCtrl.questionText"></textarea></label>
          <button type="submit" class="btn btn-lg btn-success" ng-disabled="!questionCtrl.addQuestion.$valid" ng-click="questionCtrl.saveQuestion()">Save</button>
          <button class="btn btn-lg btn-danger" ng-click="questionCtrl.cancelAddQuestion()">Cancel</button>
        </div>
        
      </form>
    </div>
    
    <div class="row">
      <div class="col-lg-6">
        <h4>Question Set Details</h4>
        <ul class="note">
          <li><strong>{{questionCtrl.questionSetQuestions.description}}</strong></li>
          <li ><strong>Questions:</strong> {{questionCtrl.questionSetQuestions.questions.length}} </li>
          <li ng-if="!questionCtrl.questionSetQuestions.isDefault"><strong>Impact:</strong> {{questionCtrl.questionSetQuestions.impact}}</li>
          <li ng-if="!questionCtrl.questionSetQuestions.isDefault" ><strong>Creation Date:</strong> {{questionCtrl.questionSetQuestions.createDate | date:'dd-MM-yyyy HH:mm'}}</li>
          <li  ng-if="!questionCtrl.questionSetQuestions.isDefault"><strong>Times Practiced:</strong> {{questionCtrl.questionSetQuestions.practiceTimes}}</li>
        </ul>
      </div>
    </div>
    
      <h4>Questions</h4>
      <div class="list-group" id="questionList">
         <span us-spinner="{radius:30, width:8, length: 16}" spinner-key="spinner-1" spinner-start-active="true"></span>
        <div class="list-group-item row" bindonce ng-repeat="q in questionCtrl.questionSetQuestions.questions">
          <div class="col-xs-10 col-md-11 col-lg-11">
            <strong><a ui-sref="answerList({questionId:q._id})">{{q.text}}</a></strong>
          </div>
          <div class="col-xs-2 col-md-1 col-lg-1" ng-if="!questionCtrl.questionSetQuestions.isDefault">
            <a confirm-click="Are you sure you want to delete this question?" ng-click="questionCtrl.deleteQuestion(q)" class="trash"><span class="glyphicon glyphicon-trash pull-right"></span></a>
            <a ng-click='questionCtrl.openEditQuestionModal("lg",q._id)'><i class="fa fa-pencil-square-o"></i></a>
          </div>
        </div>
      </div>
    
    
    
    <question-modal ng-show="questionCtrl.questionService.questionSetSession" repeat-qs="questionCtrl.questionService.repeatQS" cindex="questionCtrl.
    questionService.currentQuestionIndex" process-question='questionCtrl.processQuestion()'>
    <label for="currentAnswer">
      <p>{{questionCtrl.currentQuestion.text}}</p>
    <textarea id="answerTextArea" type="text"  id="currentAnswer" ng-model=questionCtrl.currentAnswer rows="7" cols="60"></textarea></label>
    </question-modal>
  </div>
  <footer class="footer">
  <div class="container">
    <p>Wakeup App | 2015
    </p>
  </div>
</footer>